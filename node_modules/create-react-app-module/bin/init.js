#!/usr/bin/env node
'use strict';

var _minimist = require('minimist');

var _minimist2 = _interopRequireDefault(_minimist);

var _crossSpawn = require('cross-spawn');

var _crossSpawn2 = _interopRequireDefault(_crossSpawn);

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Arguments:
 *  appName the name of the app
 */
var commands = (0, _minimist2.default)(process.argv.slice(2))._;
if (commands.length < 2) {
  console.log(_chalk2.default.red('Usage: create-react-app create|update <project-directory>'));
  process.exit(0);
}

var action = commands[0];
var appName = commands[1];

var proc = (0, _crossSpawn2.default)('node', [require.resolve('./' + action)].concat(appName), { stdio: 'inherit' });
proc.on('close', function (code) {
  if (code !== 0) {
    console.error(_chalk2.default.red('create-react-app ' + commands.join(' ') + ' failed'));
    return;
  } else {
    console.log(_chalk2.default.green('create-react-app ' + commands.join(' ') + ' success'));
  }
});